/* Refactored stylesheet (cleaned, deduplicated)
   - Utilities for rapid prototyping
   - Legacy selectors preserved for backwards compatibility
   - Small fixes: restored #content inset shadow, centered notifications relative to container, centered .groups-grid items
*/

:root {
    --font-sans: 'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
        'Segoe UI Symbol', 'Noto Color Emoji';
    --primary: #1D6F1D;
    --white: #f8fafc;
    --gray: #717171;
    --border-color: #ccc;
    --danger: #d32f2f;
    --success: #388e3c;
    --warning: #f57c00;
    --max-width: 1200px;
    --gap-sm: 0.5rem;
    --gap-md: 1rem;
    --gap-lg: 2rem;
}

/* Base */
html { font-family: "Stack Sans Text", sans-serif; font-weight: 500; box-sizing: border-box; }
*, *:before, *:after { box-sizing: inherit; }
html, body { height: 100%; margin: 0; max-width: 100vw; overflow-x: hidden; }
body { min-height: 100vh; display:flex; flex-direction:column; background: var(--white); color: #333; }
img { max-width: 100%; display: block; }

/* Utilities */
.centerer { display:flex; justify-content:center; align-items:center; }
.container { width:100%; max-width: var(--max-width); margin:0 auto; padding:0 1rem; }
.row { display:flex; gap: var(--gap-md); }
.col { flex:1; }
.flex { display:flex; }
.flex-column { display:flex; flex-direction:column; }
.justify-between { justify-content: space-between; }
.items-center { align-items: center; }
.gap-sm { gap: 0.5rem; }
.gap-md { gap: 1rem; }
.text-muted { color: var(--gray); }
.text-primary { color: var(--primary); }
.rounded { border-radius: 8px; }
.rounded-lg { border-radius: 20px; }
.shadow-sm { box-shadow: 0 4px 10px rgba(0,0,0,0.06); }

/* Buttons */
.btn { display:inline-flex; align-items:center; justify-content:center; cursor:pointer; border:none; padding:0.5rem 1rem; border-radius:8px; background:#fff; color:inherit; transition: background .15s ease; }
.btn:hover { filter: brightness(.98); }
.btn--pill { border-radius: 30px; padding: 0.6rem 1.2rem; }
.btn-primary { background: var(--primary); color: white; }
.btn-outline { background: white; border: 1px solid var(--border-color); }

/* Form */
.input { width:100%; height:2.5rem; padding:0.5rem 1rem; border:1px solid var(--border-color); border-radius:10px; background:white; font-size:1rem; }
.input:focus { outline:none; border-color: var(--primary); }
.label { display:block; font-size:0.9rem; color:#666; margin-bottom:0.25rem; }
.input-wrap { position:relative; }
.input-icon { position:absolute; right:0.6rem; top:50%; transform:translateY(-50%); pointer-events:none; }

/* Grid */
.grid { display:grid; gap: var(--gap-md); }
.grid-auto-fill { grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); }

/* Card */
.card { background:white; border-radius:12px; border:1px solid #eee; padding:1rem; }
.card--rounded { border-radius:20px; }
.card--shadow { box-shadow: 0 6px 18px rgba(0,0,0,0.08); }

/* Avatar */
.avatar { width:30px; height:30px; border-radius:50%; border:1px solid #333; display:flex; justify-content:center; align-items:center; margin-right:10px; flex-shrink:0; overflow:hidden; }
.avatar img { width:100%; height:100%; object-fit:cover; }

/* Typography */
h1 { font-size:3rem; color:var(--primary); margin:0; }
h2 { font-size:2.75rem; margin:0; }
.h3 { font-size:1.8rem; }
.text-small { font-size:0.85rem; }

/* --------------------
   Legacy / Page components (compat)
   Keep original class names the pages expect
   -------------------- */

/* Header / layout */
header { flex: 0 0 5rem; background-color: var(--white); display:flex; align-items:center; position:relative; padding:0; }
#logo { display:flex; align-items:center; margin-left:2.5rem; }
#page { display:flex; align-items:center; margin-left:2rem; color:#4E4E4E; }
#search { position:absolute; left:50%; transform:translateX(-50%); display:flex; align-items:center; }
#search input[type=search] { width:30vw; height:3rem; border-radius:1.5rem; border:1px solid #b3b3b3; padding:0 0.5rem; }
#search img { position:absolute; right:1rem; height:1.7rem; pointer-events:none; }

/* Notifications: position near the centered container so it aligns with content area */
#notifications { display:flex; align-items:center; margin-left: auto; gap:1rem; cursor:pointer; position: static; right: auto; top: auto; transform: none; }
#notifications img { height:2.5rem; }

.mobile-header-std, .mobile-header-event { display:none; }

main { flex:1 1 auto; min-height:0; background-color: var(--white); display:flex; position:relative; }
#sidebar-open { flex:0 0 13rem; height:100%; padding:0.6rem; display:flex; flex-direction:column; }
#buttons-top, #buttons-bottom { display:flex; flex-direction:column; align-items:center; gap:0.7rem; }
.side-menu { display:contents; color:inherit; text-decoration:none; }
#buttons-bottom { margin-top:auto; margin-bottom:0.6rem; }
#buttons-top { margin-top:0.6rem; }
#buttons-top div, #buttons-bottom div { height:2rem; width:100%; display:flex; align-items:center; cursor:pointer; }
#buttons-top div.active span { color: var(--primary); font-weight:bold; }
#sidebar-open div img { height:100%; }
#sidebar-open span { display:block; margin-left:0.3rem; font-size:1rem; color:#717171; }

/* Content area: keep inset shadow to match original look */
#content, .content { flex:1 1 auto; height:100%; overflow-y:auto; padding:2rem; box-sizing:border-box; display:flex; justify-content:center; box-shadow: 10px 10px 7px -2px rgba(0,0,0,0.4) inset; -webkit-box-shadow: 10px 10px 7px -2px rgba(0,0,0,0.4) inset; -moz-box-shadow: 10px 10px 7px -2px rgba(0,0,0,0.4) inset; }

/* Pills / chips */
.pill-button, .pill { border:1px solid var(--border-color); border-radius:30px; background:white; padding:0.8rem 1.8rem; color:var(--primary); font-weight:bold; min-width:150px; text-align:center; cursor:pointer; }
.pill-button:hover, .pill:hover { background:#f0f0f0; }

/* Groups grid: keep responsive but constrain width so alignment matches content */
.groups-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:1.5rem; padding-bottom:2rem; width:100%; max-width: var(--max-width); margin: 0 auto; }
.group-pill { padding:1.2rem; color:#444; font-size:0.9rem; border:1px solid var(--border-color); border-radius:12px; background:white; /* let items size naturally */ box-sizing:border-box; }

/* Modal (legacy) */
#modal-overlay { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(255,255,255,0.85); z-index:5000; justify-content:center; align-items:center; }
#group-modal { width:500px; background:white; border-radius:20px; box-shadow:0 10px 25px rgba(0,0,0,0.1); border:1px solid #ddd; padding:2rem; }
.modal-header h2 { font-size:1.8rem; color:#555; margin:0; }
.edit-icon { position:absolute; right:0; top:50%; transform:translateY(-50%); width:24px; cursor:pointer; }
.modal-search { position:relative; margin-bottom:1.5rem; }
.modal-search input { width:100%; border-radius:30px; border:1px solid #ccc; padding:0.8rem 1rem; box-sizing:border-box; outline:none; }
.search-icon { position:absolute; right:15px; top:50%; transform:translateY(-50%); color:#999; }

/* Member row */
.member-row { display:flex; align-items:center; border:1px solid #ddd; border-radius:30px; padding:0.5rem 1rem; margin-bottom:0.5rem; background:white; }
.member-info { flex:1; font-size:0.85rem; display:flex; gap:10px; align-items:center; }
.role { font-weight:bold; }
.role.creator { color: var(--primary); }
.role.member { color: #8bc34a; }
.name { font-weight:bold; color:#444; }
.email { color: var(--gray); font-size:0.8rem; }
.remove-x { color:red; cursor:pointer; padding:0 5px; }
.empty-rows { margin-top:1rem; }
.empty-row { height:35px; border:1px solid #eee; border-radius:20px; margin-bottom:0.5rem; }

/* Preferences */
.preferences-wrapper { width:100%; max-width:900px; display:flex; flex-direction:column; align-items:center; gap:2rem; padding-top:2rem; margin:0 auto; }
.pref-top-section { display:flex; gap:4rem; width:100%; justify-content:center; align-items:center; }
.profile-circle { width:180px; height:180px; border-radius:50%; background:white; box-shadow:0px 4px 10px rgba(0,0,0,0.1); flex-shrink:0; }
.name-card { flex:1; max-width:450px; background:white; border-radius:20px; padding:1.5rem 2rem; box-shadow:0px 4px 10px rgba(0,0,0,0.1); display:flex; flex-direction:column; gap:1rem; }
.input-group { margin-bottom:1rem; display:flex; flex-direction:column; }
.input-group label { display:block; font-size:0.9rem; color:#666; margin-bottom:0.2rem; margin-left:0.2rem; }
.input-wrapper { position:relative; width:100%; }
.input-wrapper input { width:100%; box-sizing:border-box; height:2.5rem; border:1px solid #ccc; border-radius:10px; padding-left:1rem; padding-right:2.5rem; font-size:1rem; color:#333; }
.input-wrapper input:focus { outline:none; border-color:var(--primary); }
.edit-icon-small { position:absolute; right:0.8rem; top:50%; transform:translateY(-50%); width:16px; height:16px; cursor:pointer; opacity:0.6; }

.settings-card { width:100%; max-width:500px; background:white; border-radius:20px; padding:1rem 1.5rem; box-shadow:0px 4px 10px rgba(0,0,0,0.1); min-height:250px; }
.card-header { text-align:center; margin-bottom:1.5rem; }
.card-header span { font-size:1.1rem; color:#555; }
.card-header hr { margin-top:0.5rem; border:0; border-top:1px solid #eee; }
.setting-row { display:flex; justify-content:space-between; align-items:center; margin-bottom:1.5rem; padding:0 0.5rem; }
.setting-row span { color:#444; }

/* Toggle / multi toggle */
.toggle-switch { position:relative; display:inline-block; width:50px; height:26px; }
.toggle-switch input { opacity:0; width:0; height:0; }
.slider { position:absolute; cursor:pointer; top:0; left:0; right:0; bottom:0; background-color:#ccc; transition:.4s; border-radius:34px; }
.slider:before { position:absolute; content:""; height:20px; width:20px; left:4px; bottom:3px; background-color:white; transition:.4s; border-radius:50%; box-shadow:0 2px 4px rgba(0,0,0,0.2); }
input:checked + .slider { background-color:var(--primary); }
input:checked + .slider:before { transform: translateX(22px); }

.multi-toggle { position:relative; width:100px; height:20px; display:flex; justify-content:space-between; align-items:center; cursor:pointer; }
.line-bg { position:absolute; top:50%; left:0; width:100%; height:2px; background:#ccc; transform:translateY(-50%); z-index:0; }
.line-active { position:absolute; top:50%; left:0; width:50%; height:2px; background:var(--primary); transform:translateY(-50%); z-index:1; transition: width .3s; }
.dot { width:12px; height:12px; background:#e0e0e0; border-radius:50%; z-index:2; transition: background .3s; border:2px solid white; box-shadow:0 1px 3px rgba(0,0,0,0.2); }
.dot.active { background:var(--primary); }

/* Events / cards */
.home-container { width:100%; padding-top:2rem; }
.events-row { display:flex; gap:2rem; flex-wrap:wrap; }
.event-card { background:white; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.1); width:300px; overflow:hidden; display:flex; flex-direction:column; }
.event-title { padding:0.8rem 1rem; font-size:1rem; color:#555; border-bottom:1px solid #f0f0f0; }
.event-image-placeholder { height:150px; background-color:#e6e6e6; display:flex; justify-content:center; align-items:center; }
.event-footer { padding:0.8rem 1rem; border-top:1px solid #f0f0f0; display:flex; align-items:center; gap:0.5rem; font-size:0.85rem; color:#555; }
.event-footer img { height:16px; width:16px; }

#notification-popup { display:none; position:absolute; top:1rem; right:2rem; width:350px; background:white; border-radius:20px; box-shadow:0 8px 20px rgba(0,0,0,0.15); border:1px solid #ddd; padding:1.5rem; z-index:3000; }
.popup-header { text-align:center; color:#666; margin-bottom:1rem; font-size:1rem; }
.notif-list-popup { display:flex; flex-direction:column; gap:0.5rem; margin-bottom:1rem; }
.notif-list-popup .notif-row { height:35px; border-radius:20px; }
.view-all-btn { width:120px; background:var(--primary); color:white; border:none; border-radius:20px; padding:0.5rem 0; margin:0 auto; display:block; cursor:pointer; text-align:center; text-decoration:none; font-size:0.9rem; }
.view-all-btn:hover { background:#165716; }
.notifications-page-container { width:100%; max-width:600px; display:flex; flex-direction:column; gap:1rem; padding-top:2rem; }
.notifications-page-container .notif-row { height:45px; border-radius:25px; border:1px solid #ccc; }

/* Event page layout */
.event-page-layout { display:flex; gap:2rem; width:100%; max-width:1200px; }
.event-left-column { flex:2; display:flex; flex-direction:column; gap:1.5rem; }
.event-right-column { flex:1; }
.event-details-card { background:white; border:1px solid #ccc; border-radius:20px; padding:1.5rem; box-shadow:0 4px 6px rgba(0,0,0,0.05); }
.event-details-card h2 { font-size:1.8rem; text-align:center; color:#555; margin:0 0 1.5rem 0; }

.form-group { margin-bottom:1rem; display:flex; flex-direction:column; }
.form-group label { font-size:0.85rem; color:#666; margin-bottom:0.3rem; margin-left:0.3rem; }
.form-group input, .form-group textarea { border:1px solid #ccc; border-radius:8px; padding:0.5rem 1rem; font-size:0.9rem; font-family:inherit; resize:none; background:white; }
.event-body-grid { display:flex; gap:1.5rem; margin-bottom:1rem; }
.image-upload-area { flex:0 0 40%; background:#e6e6e6; border-radius:12px; display:flex; justify-content:center; align-items:center; min-height:150px; }
.image-upload-area img { height:60px; opacity:0.5; }
.event-info-inputs { flex:1; display:flex; flex-direction:column; justify-content:space-between; }
.event-info-inputs textarea { height:80px; }
.form-row-split { display:flex; gap:1rem; }
.form-row-split .form-group { flex:1; }

.save-btn, .save-btn--legacy { width:100%; background:var(--primary); color:white; border:none; padding:0.6rem; border-radius:20px; font-weight:bold; cursor:pointer; }
.save-btn:hover { background:#165716; }

.search-pill { position:relative; display:block; }
.search-pill input { padding:0.8rem 1.5rem; width:200px; outline:none; font-size:1rem; color:var(--gray); }
.search-pill.full-width { width:100%; position:relative; box-sizing:border-box; }
.search-pill.full-width input { width:100%; padding-right:2.5rem; box-sizing:border-box; height:3rem; }
.search-icon-right { position:absolute; right:1rem; top:50%; transform:translateY(-50%); pointer-events:none; color:#999; }

.members-list-container { display:flex; flex-direction:column; gap:0.5rem; }
.role-dropdown { border:1px solid #ccc; border-radius:10px; padding:0.2rem 0.5rem; font-size:0.8rem; color:var(--success); font-weight:bold; cursor:pointer; background:white; }
.role.cashier { color:var(--warning); }
.interest-buttons { display:flex; gap:1rem; margin-top:1rem; }
.btn-interested, .btn-not-interested { flex:1; padding:0.6rem; border:none; border-radius:20px; font-weight:bold; color:white; cursor:pointer; }
.btn-interested { background:var(--success); }
.btn-not-interested { background:var(--danger); }

.attendance-card { background:white; border:1px solid #ccc; border-radius:20px; padding:1.5rem; height:100%; box-shadow:0 4px 6px rgba(0,0,0,0.05); }
.attendance-card h2 { font-size:1.5rem; text-align:center; color:#555; margin-top:0; margin-bottom:2rem; }
.attendance-section { margin-bottom:2rem; }
.section-label { font-size:0.8rem; color:#999; margin-bottom:0.5rem; display:block; }
.attendance-row { display:flex; align-items:center; margin-bottom:0.8rem; font-size:0.9rem; color:#555; }
.attendance-row .avatar { margin-right:0.8rem; width:24px; height:24px; }
.icon-group { margin-left:auto; display:flex; gap:0.5rem; }
.icon-check { color:#999; font-size:1rem; cursor:pointer; }
.icon-check.active { color:var(--success); }
.icon-cross { color:#999; font-size:1rem; cursor:pointer; }
.icon-cross.active { color:var(--danger); }
.icon-clock { color:#999; font-size:1rem; cursor:pointer; }

/* Responsive overrides */
@media (max-width: 1024px) {
    .event-page-layout { flex-direction: column; }
    .event-body-grid { flex-direction: column; }
    .attendance-card { height:auto; }
}

@media (max-width: 768px) {
    /* Hide centered header items on small screens */
    #logo, #page, #search, #notifications { display: none; }
    header { justify-content: space-between; padding: 0 1rem; height: 4rem; flex: 0 0 4rem; box-shadow: 0px 4px 6px rgba(0,0,0,0.05); }
    .mobile-header-std { display:flex; justify-content:space-between; align-items:center; width:100%; }
    .mobile-header-std h1 { font-size:1.8rem; font-weight:bold; color:var(--primary); margin:0; }
    .mobile-header-icons { display:flex; gap:0.8rem; align-items:center; }
    .mobile-header-icons img { height:1.4rem; cursor:pointer; }
    .notif-wrapper { position:relative; display:flex; align-items:center; }
    .red-dot { position:absolute; bottom:0; left:-2px; width:8px; height:8px; background-color:#d32f2f; border-radius:50%; border:1px solid white; }
    .mobile-header-event { display:flex; justify-content:space-between; align-items:center; width:100%; }
    .mobile-header-event img { height:1.8rem; }
    .mobile-header-event h2 { font-size:1.8rem; color:#444; margin:0; }
    .mobile-save-btn { background:var(--primary); color:white; border:none; padding:0.4rem 0.8rem; border-radius:20px; font-weight:bold; font-size:0.8rem; cursor:pointer; }

    /* Make content padding smaller on mobile */
    #content { box-shadow: 0px 7px 7px -2px rgba(0,0,0,0.28) inset; padding:1rem; }

    /* Sidebar becomes a bottom bar on mobile */
    #sidebar-open { position: fixed; left: 1rem; right: 1rem; bottom: 1rem; width: auto; height: 4rem; display:flex; flex-direction:row; align-items:center; justify-content:space-evenly; background:#fff; box-shadow:0 8px 24px rgba(0,0,0,0.16); padding:0.25rem 0.5rem; z-index:2000; border-radius:30px; }
    #sidebar-open #buttons-top { flex-direction:row; gap:0; width:100%; justify-content:space-between; margin:0; padding:0 1rem; }
    #sidebar-open #buttons-bottom { display:none; }
    #buttons-top div { flex:0 0 auto; width:auto; height:100%; justify-content:center; padding:0; }
    #buttons-top img { height:1.8rem; width:auto; opacity:0.7; }
    #buttons-top span { display:none; }
    #buttons-top div.active img { opacity:1; filter: invert(32%) sepia(18%) saturate(1900%) hue-rotate(85deg) brightness(95%) contrast(89%); }

    main { padding-bottom:6rem; }
    .groups-grid { grid-template-columns: 1fr; }
    .groups-top-bar { flex-direction:column; gap:1rem; }
    .pill-button, .search-pill input { width:100%; box-sizing:border-box; }
    #group-modal { width:90%; margin:0 auto; }
    .pref-top-section { flex-direction:column; gap:1.5rem; }
    .profile-circle { width:120px; height:120px; }
    .name-card, .settings-card { width:100%; box-sizing:border-box; }
    .events-row { justify-content:center; }
    .event-card { width:100%; }
    #notification-popup { position:fixed; top:4rem; right:1rem; left:1rem; width:auto; }
    .event-page-layout { gap:1rem; }
    .event-details-card { border:none; box-shadow:none; padding:0; background:transparent; }
    .event-details-card h2 { display:none; }
    .form-group input, .form-group textarea { border-radius:12px; border:1px solid #dcdcdc; }
    .image-upload-area { background:#e6e6e6; border-radius:15px; min-height:200px; margin-top:1rem; flex:1 1 100%; }
    .members-list-container .member-row { border-radius:25px; border:1px solid #eee; padding:0.5rem 1rem; }
    .interest-buttons { flex-direction:column; gap:0.8rem; margin-bottom:2rem; }
    .btn-interested, .btn-not-interested { width:100%; border-radius:12px; padding:0.8rem; font-size:1rem; }
    .save-btn { display:none; }
    .event-right-column { display:none; }
    .event-right-column.show-mobile-modal { display:block; position:fixed; top:5rem; left:50%; transform:translateX(-50%); width:90%; max-width:400px; z-index:3000; height:auto; max-height:80vh; overflow-y:auto; }
    .event-right-column.show-mobile-modal .attendance-card { box-shadow:0 10px 40px rgba(0,0,0,0.2); border:1px solid #ccc; }
    .form-row-split { flex-direction:column; gap:0.5rem; }
}
